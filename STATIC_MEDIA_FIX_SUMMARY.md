# üîß –í–ò–ü–†–ê–í–õ–ï–ù–ù–Ø –ö–û–ù–§–õ–Ü–ö–¢–£ STATIC/STATICFILES

## üéØ –ü—Ä–æ–±–ª–µ–º–∞
–£ –ø—Ä–æ—î–∫—Ç—ñ –±—É–≤ –∫–æ–Ω—Ñ–ª—ñ–∫—Ç –º—ñ–∂ —Å—Ç–∞—Ç–∏—á–Ω–∏–º–∏ —Ç–∞ –º–µ–¥—ñ–∞ —Ñ–∞–π–ª–∞–º–∏:
- **STATIC_URL** = `/static/`
- **MEDIA_URL** = `/static/media/` ‚ùå –ö–û–ù–§–õ–Ü–ö–¢!

–¶–µ –ø—Ä–∏–∑–≤–æ–¥–∏–ª–æ –¥–æ –ø—Ä–æ–±–ª–µ–º –∑ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è–º –∑–æ–±—Ä–∞–∂–µ–Ω—å —Ç–æ–≤–∞—Ä—ñ–≤ —Ç–∞ –ø–æ—Ä—Ç—Ñ–æ–ª—ñ–æ –Ω–∞ Render.

## ‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è

### 1. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Production (config/settings_production.py)
```python
# –ë–£–õ–û:
MEDIA_URL = '/static/media/'  # –ö–æ–Ω—Ñ–ª—ñ–∫—Ç –∑—ñ STATIC_URL

# –°–¢–ê–õ–û:
MEDIA_URL = '/media/'  # –û–∫—Ä–µ–º–∏–π URL –¥–ª—è –º–µ–¥—ñ–∞ —Ñ–∞–π–ª—ñ–≤
```

### 2. URL –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è (config/urls.py)
```python
# –î–æ–¥–∞–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–µ –æ–±—Å–ª—É–≥–æ–≤—É–≤–∞–Ω–Ω—è –º–µ–¥—ñ–∞ —Ñ–∞–π–ª—ñ–≤ —É production
else:
    # –í production WhiteNoise –æ–±—Å–ª—É–≥–æ–≤—É—î —Å—Ç–∞—Ç–∏—á–Ω—ñ —Ñ–∞–π–ª–∏
    # –ê–ª–µ –º–µ–¥—ñ–∞ —Ñ–∞–π–ª–∏ –ø–æ—Ç—Ä–µ–±—É—é—Ç—å –¥–æ–¥–∞—Ç–∫–æ–≤–æ–≥–æ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è  
    urlpatterns += static(settings.MEDIA_URL, document_root=settings.MEDIA_ROOT)
```

### 3. –ú–æ–¥–µ–ª—å Product/ProductImage (mainapp/models.py)
–û–Ω–æ–≤–ª–µ–Ω–æ –ª–æ–≥—ñ–∫—É –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó URLs –¥–ª—è –∑–æ–±—Ä–∞–∂–µ–Ω—å:
```python
# –ë–£–õ–û: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ MEDIA_URL == '/static/media/'
if hasattr(settings, 'MEDIA_URL') and settings.MEDIA_URL == '/static/media/':

# –°–¢–ê–õ–û: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ production –∑–∞ DEBUG —Ç–∞ STATICFILES_STORAGE
if not settings.DEBUG and hasattr(settings, 'STATICFILES_STORAGE'):
```

### 4. –ö–æ–º–∞–Ω–¥–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
- –û–Ω–æ–≤–ª–µ–Ω–æ `setup_media_for_production` –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ –Ω–æ–≤–∏–º–∏ URL
- –°—Ç–≤–æ—Ä–µ–Ω–æ `test_static_media_fix` –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç

‚úÖ **STATIC_URL**: `/static/` - –¥–ª—è CSS, JS, –∑–æ–±—Ä–∞–∂–µ–Ω—å —Å–∞–π—Ç—É  
‚úÖ **MEDIA_URL**: `/media/` - –¥–ª—è –∑–æ–±—Ä–∞–∂–µ–Ω—å —Ç–æ–≤–∞—Ä—ñ–≤ —Ç–∞ –ø–æ—Ä—Ç—Ñ–æ–ª—ñ–æ  
‚úÖ **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª—ñ–≤**: `staticfiles/media/` - –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –¥–ª—è WhiteNoise  
‚úÖ **–¢–æ–≤–∞—Ä–∏**: 35 —Ç–æ–≤–∞—Ä—ñ–≤ –∑ —Ñ–æ—Ç–æ  
‚úÖ **–ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è**: 111 –¥–æ–¥–∞—Ç–∫–æ–≤–∏—Ö –∑–æ–±—Ä–∞–∂–µ–Ω—å  
‚úÖ **–ü–æ—Ä—Ç—Ñ–æ–ª—ñ–æ**: 3 –ø—Ä–æ—î–∫—Ç–∏ –∑ —Ñ–æ—Ç–æ  

## üöÄ –î–µ–ø–ª–æ–π –Ω–∞ Render

–£—Å—ñ –∑–º—ñ–Ω–∏ –≥–æ—Ç–æ–≤—ñ –¥–ª—è –¥–µ–ø–ª–æ—é. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª—ñ–≤:
```
staticfiles/
‚îú‚îÄ‚îÄ css/          # –°—Ç–∏–ª—ñ —Å–∞–π—Ç—É  
‚îú‚îÄ‚îÄ js/           # JavaScript
‚îú‚îÄ‚îÄ images/       # –ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Å–∞–π—Ç—É
‚îú‚îÄ‚îÄ videos/       # –í—ñ–¥–µ–æ
‚îî‚îÄ‚îÄ media/        # –ú–µ–¥—ñ–∞ —Ñ–∞–π–ª–∏ (—á–µ—Ä–µ–∑ WhiteNoise)
    ‚îú‚îÄ‚îÄ products/ # –ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Ç–æ–≤–∞—Ä—ñ–≤
    ‚îú‚îÄ‚îÄ portfolio/# –ü–æ—Ä—Ç—Ñ–æ–ª—ñ–æ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è
    ‚îî‚îÄ‚îÄ brands/   # –õ–æ–≥–æ—Ç–∏–ø–∏ –±—Ä–µ–Ω–¥—ñ–≤
```

## üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

–î–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –ø—ñ—Å–ª—è –¥–µ–ø–ª–æ—é:
```bash
python manage.py test_static_media_fix
```

## üåê URL –°—Ö–µ–º–∞

| –¢–∏–ø | –õ–æ–∫–∞–ª—å–Ω–æ | Production (Render) |
|-----|----------|-------------------|
| –°—Ç–∞—Ç–∏—á–Ω—ñ | `/static/` | `/static/` (WhiteNoise) |
| –ú–µ–¥—ñ–∞ | `/media/` | `/media/` (WhiteNoise) |
| –¢–æ–≤–∞—Ä–∏ | `/media/products/` | `/media/products/` |
| –ü–æ—Ä—Ç—Ñ–æ–ª—ñ–æ | `/media/portfolio/` | `/media/portfolio/` |

---
*–í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –≤–∏–∫–æ–Ω–∞–Ω–æ: 2025-01-27*  
*–°—Ç–∞—Ç—É—Å: ‚úÖ –ì–æ—Ç–æ–≤–æ –¥–æ –¥–µ–ø–ª–æ—é* 